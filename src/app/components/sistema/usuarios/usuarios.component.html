<div class="wrapper wrapper-content  animated fadeInRight">
    <div class="row">
        <div class="col-sm-8">
            <div class="ibox">
                <div class="ibox-content">
                    <div class="input-group">
                        <input class="input form-control" type="text" placeholder="Buscar usuario" [(ngModel)]="filtro" (keyup)="consultarUsuarios()" ngControl="filtro" ngControl="filtro"> 
                        <span class="input-group-btn">
                                 
                          <a class="btn btn btn-primary" [routerLink]="['/usuarioadd']"><i class="fa fa-user"></i> Nuevo Usuario</a>
                          
                        </span>
                    </div>
                    <div class="clients-list">
                        <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 100%;"><div class="full-height-scroll" style="overflow: hidden; width: auto; height: 100%;">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <tbody>
                                    <tr *ngFor="let u of pagedItems" >
                                        <td class="client-avatar"><img alt="{{u.usuario}}" src="{{u.avatar}}"> </td>
                                        <td><a data-toggle="tab" href="#{{u.usuario}}" class="client-link" aria-expanded="true">{{u.nombres}} {{u.apellidos}}</a></td>
                                        <td> {{u.usuario}}</td>
                                        <td class="contact-type"><i class="fa fa-envelope"> </i></td>
                                        <td> {{u.email}}</td>
                                        <td class="client-status">
                                          <span class="label label-primary" *ngIf="u.activo" >Activo</span>
                                          <span class="label label-danger" *ngIf="!u.activo" >Inactivo</span>
                                        </td>
                                    </tr>
                                    <tr>
                                      <td colspan="10">
                                        <!-- pager -->
                                        <div class="text-center">
                                            <div *ngIf="pager.pages && pager.pages.length" class="btn-group">
                                                <button class="btn btn-white" type="button" (click)="setPage(1)" [ngClass]="{disabled:pager.currentPage === 1}" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                                    <i class="fa fa-angle-double-left"></i>
                                                </button>
                                                
                                                <button class="btn btn-white" type="button" (click)="setPage(pager.currentPage - 1)" [ngClass]="{disabled:pager.currentPage === 1}" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                                    <i class="fa fa-chevron-left"></i>
                                                </button>
                                                <button class="btn btn-white" [ngClass]="{active:pager.currentPage === page}" *ngFor="let page of pager.pages" (click)="setPage(page)">{{page}}</button>
                                                <button class="btn btn-white" type="button" [ngClass]="{disabled:pager.currentPage === pager.totalPages}" (click)="setPage(pager.currentPage + 1)">
                                                    <i class="fa fa-chevron-right"></i> 
                                                </button>
                                                <button class="btn btn-white" type="button" (click)="setPage(pager.totalPages)" [ngClass]="{disabled:pager.currentPage === pager.totalPages}" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                                    <i class="fa fa-angle-double-right"></i>
                                                </button>
                                            </div>
                                        </div>
                                      </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div><div class="slimScrollBar" style="background: rgb(0, 0, 0) none repeat scroll 0% 0%; width: 7px; position: absolute; top: 0px; opacity: 0.4; display: none; border-radius: 7px; z-index: 99; right: 1px; height: 365.112px;"></div><div class="slimScrollRail" style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51) none repeat scroll 0% 0%; opacity: 0.2; z-index: 90; right: 1px;"></div></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
                    <div class="ibox ">

                        <div class="ibox-content">
                            <div class="tab-content">
                                <div id="{{u.usuario}}" class="tab-pane" [ngClass]="{'active':i===0}"  *ngFor="let u of pagedItems; let i=index" >
                                    <div class="row m-b-lg">
                                        <div class="col-lg-4 text-center">
                                            <h2>{{u.usuario}}</h2>

                                            <div class="m-b-sm">
                                                <img alt="image" class="img-circle" src="{{u.avatar}}" style="width: 62px">
                                            </div>
                                            <div class="m-b-sm">
                                                <a class="btn btn-white btn-sm" [routerLink]="['/usuarioedit',u.usuario]"><i class="fa fa-pencil"></i>Editar</a>
                                            </div>
                                        </div>
                                        <div class="col-lg-8">
                                            <strong>
                                                {{u.nombres}} {{u.apellidos}}
                                            </strong>

                                            <p>
                                               {{u.perfil}}.
                                            </p>
                                            <button type="button" class="btn btn-primary btn-sm btn-block" (click)='cambiarStatus(u.usuario,true)' *ngIf="!u.activo" ><i class="fa fa-check"></i> Activar</button>
                                            <button type="button" class="btn btn-danger btn-sm btn-block" (click)='cambiarStatus(u.usuario)' *ngIf="u.activo" ><i class="fa fa-times"></i> Inactivar</button>
                                            
                                        </div>
                                    </div>
                                   
                                </div>
                                
                                  
                                
                                
                            </div>
                        </div>
                    </div>
                </div>
    </div>
</div>